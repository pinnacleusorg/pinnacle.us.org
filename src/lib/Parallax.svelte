<script lang="ts">
	import { Button } from "@pinnacleusorg/quisp";
	import { onMount } from "svelte";
	import { elasticOut } from "svelte/easing";
	import { fade, fly } from "svelte/transition";
	import Explore from "./Explore.svelte";

	let progress = 0;
	let context: CanvasRenderingContext2D;

	let h: number, w: number, dy: number;
	onMount(() => {
		h = window.innerHeight;
		w = window.innerWidth;
		dy = document.querySelector("#parallax").getBoundingClientRect().height;

		const canvas = document.querySelector<HTMLCanvasElement>("#bg-img");
		context = canvas.getContext("2d");

		// loads the first hero image, waiting for it
		// then permits the preloader to load the rest of the images
		window.scrollTo(0, 0);
		const img = new Image();
		img.onload = () => {
			context.drawImage(img, 0, 0, w, h);
			preloader();
		};
		img.src = `https://static.pinnacle.us.org/2023/landing/parallax/001.jpg`;
	});

	function preloader(): void {
		if (w < 768) return; // no images on mobile!

		for (let i = 0; i < 90; i++) {
			const img = new Image();
			const imgID = (i + 1).toString().padStart(3, "0");
			img.src = `https://static.pinnacle.us.org/2023/landing/parallax/${imgID}.jpg`;
		}
	}

	let bigNumber1 = 0;
	let bigNumber2 = 0;
	let bigNumber3 = 0;
	function easeNumbers(t: number): void {
		bigNumber1 = Math.min(Math.round(36 * elasticOut(t)), 36);
		bigNumber2 = Math.min(Math.round(50 * elasticOut(t)), 50);
		bigNumber3 = Math.min(Math.round(200 * elasticOut(t)), 200);
	}

	function scrollHandler(): void {
		progress = window.scrollY / dy;

		// handle big numbers animation
		let t = Math.max(Math.min((progress - 0.75) * 0.75, 1), 0);
		if (progress > 0.75) {
			easeNumbers(t);
		}

		t = Math.max(Math.min((progress - 0.92) * 1.5, 1), 0);
		(
			document.querySelector("#fg-img") as HTMLElement
		).style.opacity = `${elasticOut(t)}`;

		if (w < 768) return; // no images on mobile!
		loadImage(progress, false);
	}

	function resizeHandler(): void {
		h = window.innerHeight;
		w = window.innerWidth;
		loadImage(progress, true);
	}

	function loadImage(progress: number, async: boolean): void {
		const img = new Image();
		const imgID = Math.min(Math.max(Math.round(progress * 90) + 1, 1), 90).toString().padStart(3,"0");
		if (async) {
			img.onload = () => context.drawImage(img, 0, 0, w, h);
			img.src = `https://static.pinnacle.us.org/2023/landing/parallax/${imgID}.jpg`;
		} else {
			img.src = `https://static.pinnacle.us.org/2023/landing/parallax/${imgID}.jpg`;
			context.drawImage(img, 0, 0, w, h);
		}
	}
</script>

<svelte:window on:scroll={scrollHandler} on:resize={resizeHandler} />
<div id="fg-img" />
{#if progress <= 0.8}
	<div class="desktop-overlay">
		<Explore position="fixed" />
		<span class="skip" title="skip">
			<Button href="#hero" color="black" small>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					fill="currentColor"
					class="bi bi-skip-forward-fill"
					viewBox="0 0 16 16"
				>
					<path
						d="M15.5 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V8.753l-6.267 3.636c-.54.313-1.233-.066-1.233-.697v-2.94l-6.267 3.636C.693 12.703 0 12.324 0 11.693V4.308c0-.63.693-1.01 1.233-.696L7.5 7.248v-2.94c0-.63.693-1.01 1.233-.696L15 7.248V4a.5.5 0 0 1 .5-.5z"
					/>
				</svg>
			</Button>
		</span>
	</div>
	<div class="mobile-overlay">
		<span class="scroll-prompt">
			<svg
				width="158"
				height="22"
				viewBox="0 0 158 22"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path
					d="M28.448 6.68C27.84 6.68 27.2907 6.78667 26.8 7C26.3093 7.20267 25.8933 7.50667 25.552 7.912C25.2107 8.30667 24.9493 8.792 24.768 9.368C24.5867 9.93333 24.496 10.5733 24.496 11.288C24.496 12.2267 24.64 13.0427 24.928 13.736C25.2267 14.4293 25.664 14.9627 26.24 15.336C26.8267 15.7093 27.5573 15.896 28.432 15.896C28.9333 15.896 29.408 15.8533 29.856 15.768C30.304 15.6827 30.7413 15.576 31.168 15.448V16.696C30.7413 16.856 30.2987 16.9733 29.84 17.048C29.392 17.1227 28.8533 17.16 28.224 17.16C27.0613 17.16 26.0907 16.92 25.312 16.44C24.5333 15.96 23.9467 15.2773 23.552 14.392C23.168 13.5067 22.976 12.4667 22.976 11.272C22.976 10.408 23.0933 9.61867 23.328 8.904C23.5733 8.18933 23.9253 7.57067 24.384 7.048C24.8533 6.52533 25.4293 6.12533 26.112 5.848C26.7947 5.56 27.5787 5.416 28.464 5.416C29.0507 5.416 29.616 5.47467 30.16 5.592C30.704 5.70933 31.1893 5.87467 31.616 6.088L31.04 7.304C30.688 7.144 30.2933 7 29.856 6.872C29.4293 6.744 28.96 6.68 28.448 6.68ZM40.9254 12.696C40.9254 13.4107 40.8294 14.0453 40.6374 14.6C40.456 15.144 40.1894 15.608 39.8374 15.992C39.496 16.376 39.0747 16.6693 38.5734 16.872C38.0827 17.064 37.5334 17.16 36.9254 17.16C36.36 17.16 35.8374 17.064 35.3574 16.872C34.8774 16.6693 34.4614 16.376 34.1094 15.992C33.7574 15.608 33.48 15.144 33.2774 14.6C33.0854 14.0453 32.9894 13.4107 32.9894 12.696C32.9894 11.7467 33.1494 10.9467 33.4694 10.296C33.7894 9.63467 34.248 9.13333 34.8454 8.792C35.4427 8.44 36.152 8.264 36.9734 8.264C37.752 8.264 38.4347 8.44 39.0214 8.792C39.6187 9.13333 40.0827 9.63467 40.4134 10.296C40.7547 10.9467 40.9254 11.7467 40.9254 12.696ZM34.4454 12.696C34.4454 13.368 34.5307 13.9547 34.7014 14.456C34.8827 14.9467 35.16 15.3253 35.5334 15.592C35.9067 15.8587 36.3814 15.992 36.9574 15.992C37.5334 15.992 38.008 15.8587 38.3814 15.592C38.7547 15.3253 39.0267 14.9467 39.1974 14.456C39.3787 13.9547 39.4694 13.368 39.4694 12.696C39.4694 12.0133 39.3787 11.432 39.1974 10.952C39.016 10.472 38.7387 10.104 38.3654 9.848C38.0027 9.58133 37.528 9.448 36.9414 9.448C36.0667 9.448 35.432 9.736 35.0374 10.312C34.6427 10.888 34.4454 11.6827 34.4454 12.696ZM47.2849 8.264C48.3089 8.264 49.0822 8.51467 49.6049 9.016C50.1275 9.50667 50.3889 10.3067 50.3889 11.416V17H48.9969V11.512C48.9969 10.8187 48.8422 10.3013 48.5329 9.96C48.2235 9.61867 47.7382 9.448 47.0769 9.448C46.1275 9.448 45.4715 9.71467 45.1089 10.248C44.7462 10.7813 44.5649 11.5493 44.5649 12.552V17H43.1569V8.424H44.2929L44.5009 9.592H44.5809C44.7729 9.29333 45.0075 9.048 45.2849 8.856C45.5729 8.65333 45.8875 8.504 46.2289 8.408C46.5702 8.312 46.9222 8.264 47.2849 8.264ZM55.9115 16.008C56.1248 16.008 56.3435 15.992 56.5675 15.96C56.7915 15.9173 56.9728 15.8747 57.1115 15.832V16.904C56.9622 16.9787 56.7488 17.0373 56.4715 17.08C56.1942 17.1333 55.9275 17.16 55.6715 17.16C55.2235 17.16 54.8075 17.0853 54.4235 16.936C54.0502 16.776 53.7462 16.504 53.5115 16.12C53.2768 15.736 53.1595 15.1973 53.1595 14.504V9.512H51.9435V8.84L53.1755 8.28L53.7355 6.456H54.5675V8.424H57.0475V9.512H54.5675V14.472C54.5675 14.9947 54.6902 15.384 54.9355 15.64C55.1915 15.8853 55.5168 16.008 55.9115 16.008ZM60.2368 8.424V17H58.8288V8.424H60.2368ZM59.5488 5.208C59.7621 5.208 59.9488 5.28267 60.1088 5.432C60.2794 5.57067 60.3648 5.79467 60.3648 6.104C60.3648 6.40267 60.2794 6.62667 60.1088 6.776C59.9488 6.92533 59.7621 7 59.5488 7C59.3141 7 59.1168 6.92533 58.9568 6.776C58.7968 6.62667 58.7168 6.40267 58.7168 6.104C58.7168 5.79467 58.7968 5.57067 58.9568 5.432C59.1168 5.28267 59.3141 5.208 59.5488 5.208ZM67.0818 8.264C68.1058 8.264 68.8791 8.51467 69.4018 9.016C69.9244 9.50667 70.1858 10.3067 70.1858 11.416V17H68.7938V11.512C68.7938 10.8187 68.6391 10.3013 68.3298 9.96C68.0204 9.61867 67.5351 9.448 66.8738 9.448C65.9244 9.448 65.2684 9.71467 64.9058 10.248C64.5431 10.7813 64.3618 11.5493 64.3618 12.552V17H62.9538V8.424H64.0898L64.2978 9.592H64.3778C64.5698 9.29333 64.8044 9.048 65.0818 8.856C65.3698 8.65333 65.6844 8.504 66.0258 8.408C66.3671 8.312 66.7191 8.264 67.0818 8.264ZM80.0124 8.424V17H78.8604L78.6524 15.864H78.5884C78.407 16.1627 78.1724 16.408 77.8844 16.6C77.5964 16.792 77.2817 16.9307 76.9404 17.016C76.599 17.112 76.2417 17.16 75.8684 17.16C75.1857 17.16 74.6097 17.0533 74.1404 16.84C73.6817 16.616 73.335 16.2747 73.1004 15.816C72.8657 15.3573 72.7484 14.7653 72.7484 14.04V8.424H74.1724V13.944C74.1724 14.6267 74.327 15.1387 74.6364 15.48C74.9457 15.8213 75.4257 15.992 76.0764 15.992C76.7164 15.992 77.2177 15.8747 77.5804 15.64C77.9537 15.3947 78.215 15.0427 78.3644 14.584C78.5244 14.1147 78.6044 13.5493 78.6044 12.888V8.424H80.0124ZM86.047 8.264C86.783 8.264 87.4123 8.424 87.935 8.744C88.4683 9.064 88.8737 9.51733 89.151 10.104C89.439 10.68 89.583 11.3573 89.583 12.136V12.984H83.711C83.7323 13.9547 83.9777 14.696 84.447 15.208C84.927 15.7093 85.5937 15.96 86.447 15.96C86.991 15.96 87.471 15.912 87.887 15.816C88.3137 15.7093 88.751 15.56 89.199 15.368V16.6C88.7617 16.792 88.3297 16.9307 87.903 17.016C87.4763 17.112 86.9697 17.16 86.383 17.16C85.5723 17.16 84.8523 16.9947 84.223 16.664C83.6043 16.3333 83.119 15.8427 82.767 15.192C82.4257 14.5307 82.255 13.7253 82.255 12.776C82.255 11.8373 82.4097 11.032 82.719 10.36C83.039 9.688 83.4817 9.17067 84.047 8.808C84.623 8.44533 85.2897 8.264 86.047 8.264ZM86.031 9.416C85.359 9.416 84.8257 9.63467 84.431 10.072C84.047 10.4987 83.8177 11.096 83.743 11.864H88.111C88.111 11.3733 88.0363 10.9467 87.887 10.584C87.7377 10.2213 87.5083 9.93867 87.199 9.736C86.9003 9.52267 86.511 9.416 86.031 9.416ZM101.507 14.632C101.507 15.1867 101.368 15.6507 101.091 16.024C100.813 16.3973 100.419 16.68 99.9065 16.872C99.3945 17.064 98.7865 17.16 98.0825 17.16C97.4852 17.16 96.9678 17.112 96.5305 17.016C96.1038 16.92 95.7252 16.7867 95.3945 16.616V15.336C95.7358 15.5067 96.1465 15.6667 96.6265 15.816C97.1172 15.9547 97.6132 16.024 98.1145 16.024C98.8292 16.024 99.3465 15.912 99.6665 15.688C99.9865 15.4533 100.147 15.144 100.147 14.76C100.147 14.5467 100.088 14.3547 99.9705 14.184C99.8532 14.0133 99.6398 13.8427 99.3305 13.672C99.0318 13.5013 98.5998 13.3093 98.0345 13.096C97.4798 12.8827 97.0052 12.6693 96.6105 12.456C96.2158 12.2427 95.9118 11.9867 95.6985 11.688C95.4852 11.3893 95.3785 11.0053 95.3785 10.536C95.3785 9.81067 95.6718 9.25067 96.2585 8.856C96.8558 8.46133 97.6345 8.264 98.5945 8.264C99.1172 8.264 99.6025 8.31733 100.051 8.424C100.509 8.52 100.936 8.65867 101.331 8.84L100.851 9.96C100.616 9.85333 100.365 9.76267 100.099 9.688C99.8425 9.60267 99.5812 9.53867 99.3145 9.496C99.0478 9.44267 98.7758 9.416 98.4985 9.416C97.9225 9.416 97.4798 9.512 97.1705 9.704C96.8718 9.88533 96.7225 10.136 96.7225 10.456C96.7225 10.6907 96.7918 10.8933 96.9305 11.064C97.0692 11.224 97.2985 11.384 97.6185 11.544C97.9492 11.6933 98.3865 11.8747 98.9305 12.088C99.4745 12.2907 99.9385 12.4987 100.323 12.712C100.707 12.9253 101 13.1867 101.203 13.496C101.405 13.7947 101.507 14.1733 101.507 14.632ZM107.019 17.16C106.261 17.16 105.584 17.0053 104.987 16.696C104.4 16.3867 103.936 15.9067 103.595 15.256C103.264 14.6053 103.099 13.7733 103.099 12.76C103.099 11.704 103.275 10.8453 103.627 10.184C103.979 9.52267 104.453 9.03733 105.051 8.728C105.659 8.41867 106.347 8.264 107.115 8.264C107.552 8.264 107.973 8.312 108.379 8.408C108.784 8.49333 109.115 8.6 109.371 8.728L108.939 9.896C108.683 9.8 108.384 9.70933 108.043 9.624C107.701 9.53867 107.381 9.496 107.083 9.496C106.507 9.496 106.032 9.61867 105.659 9.864C105.285 10.1093 105.008 10.472 104.827 10.952C104.645 11.432 104.555 12.0293 104.555 12.744C104.555 13.4267 104.645 14.008 104.827 14.488C105.008 14.968 105.28 15.3307 105.643 15.576C106.005 15.8213 106.459 15.944 107.003 15.944C107.472 15.944 107.883 15.896 108.235 15.8C108.597 15.704 108.928 15.5867 109.227 15.448V16.696C108.939 16.8453 108.619 16.9573 108.267 17.032C107.925 17.1173 107.509 17.16 107.019 17.16ZM115.266 8.264C115.426 8.264 115.597 8.27467 115.778 8.296C115.97 8.30667 116.136 8.328 116.274 8.36L116.098 9.656C115.96 9.624 115.805 9.59733 115.634 9.576C115.474 9.55467 115.32 9.544 115.17 9.544C114.84 9.544 114.525 9.61333 114.226 9.752C113.928 9.89067 113.661 10.088 113.426 10.344C113.192 10.5893 113.005 10.888 112.866 11.24C112.738 11.592 112.674 11.9867 112.674 12.424V17H111.266V8.424H112.418L112.578 9.992H112.642C112.824 9.672 113.042 9.384 113.298 9.128C113.554 8.86133 113.848 8.65333 114.178 8.504C114.509 8.344 114.872 8.264 115.266 8.264ZM125.019 12.696C125.019 13.4107 124.923 14.0453 124.731 14.6C124.55 15.144 124.283 15.608 123.931 15.992C123.59 16.376 123.168 16.6693 122.667 16.872C122.176 17.064 121.627 17.16 121.019 17.16C120.454 17.16 119.931 17.064 119.451 16.872C118.971 16.6693 118.555 16.376 118.203 15.992C117.851 15.608 117.574 15.144 117.371 14.6C117.179 14.0453 117.083 13.4107 117.083 12.696C117.083 11.7467 117.243 10.9467 117.563 10.296C117.883 9.63467 118.342 9.13333 118.939 8.792C119.536 8.44 120.246 8.264 121.067 8.264C121.846 8.264 122.528 8.44 123.115 8.792C123.712 9.13333 124.176 9.63467 124.507 10.296C124.848 10.9467 125.019 11.7467 125.019 12.696ZM118.539 12.696C118.539 13.368 118.624 13.9547 118.795 14.456C118.976 14.9467 119.254 15.3253 119.627 15.592C120 15.8587 120.475 15.992 121.051 15.992C121.627 15.992 122.102 15.8587 122.475 15.592C122.848 15.3253 123.12 14.9467 123.291 14.456C123.472 13.9547 123.563 13.368 123.563 12.696C123.563 12.0133 123.472 11.432 123.291 10.952C123.11 10.472 122.832 10.104 122.459 9.848C122.096 9.58133 121.622 9.448 121.035 9.448C120.16 9.448 119.526 9.736 119.131 10.312C118.736 10.888 118.539 11.6827 118.539 12.696ZM128.659 17H127.251V4.84H128.659V17ZM132.784 17H131.376V4.84H132.784V17ZM136.909 8.424V17H135.501V8.424H136.909ZM136.221 5.208C136.434 5.208 136.621 5.28267 136.781 5.432C136.951 5.57067 137.037 5.79467 137.037 6.104C137.037 6.40267 136.951 6.62667 136.781 6.776C136.621 6.92533 136.434 7 136.221 7C135.986 7 135.789 6.92533 135.629 6.776C135.469 6.62667 135.389 6.40267 135.389 6.104C135.389 5.79467 135.469 5.57067 135.629 5.432C135.789 5.28267 135.986 5.208 136.221 5.208ZM143.754 8.264C144.778 8.264 145.551 8.51467 146.074 9.016C146.596 9.50667 146.858 10.3067 146.858 11.416V17H145.466V11.512C145.466 10.8187 145.311 10.3013 145.002 9.96C144.692 9.61867 144.207 9.448 143.546 9.448C142.596 9.448 141.94 9.71467 141.578 10.248C141.215 10.7813 141.034 11.5493 141.034 12.552V17H139.626V8.424H140.762L140.97 9.592H141.05C141.242 9.29333 141.476 9.048 141.754 8.856C142.042 8.65333 142.356 8.504 142.698 8.408C143.039 8.312 143.391 8.264 143.754 8.264ZM152.556 8.264C153.122 8.264 153.628 8.37067 154.076 8.584C154.535 8.79733 154.924 9.12267 155.244 9.56H155.324L155.516 8.424H156.636V17.144C156.636 17.9547 156.498 18.632 156.22 19.176C155.943 19.7307 155.522 20.1467 154.956 20.424C154.391 20.7013 153.671 20.84 152.796 20.84C152.178 20.84 151.607 20.792 151.084 20.696C150.572 20.6107 150.114 20.4773 149.708 20.296V19C149.986 19.1387 150.29 19.256 150.62 19.352C150.951 19.4587 151.308 19.5387 151.692 19.592C152.076 19.6453 152.471 19.672 152.876 19.672C153.612 19.672 154.188 19.4533 154.604 19.016C155.031 18.5893 155.244 18.0027 155.244 17.256V16.92C155.244 16.792 155.25 16.6107 155.26 16.376C155.271 16.1307 155.282 15.96 155.292 15.864H155.228C154.93 16.3013 154.556 16.6267 154.108 16.84C153.671 17.0533 153.159 17.16 152.572 17.16C151.463 17.16 150.594 16.7707 149.964 15.992C149.346 15.2133 149.036 14.1253 149.036 12.728C149.036 11.8107 149.175 11.0213 149.452 10.36C149.74 9.688 150.146 9.17067 150.668 8.808C151.191 8.44533 151.82 8.264 152.556 8.264ZM152.748 9.448C152.268 9.448 151.858 9.576 151.516 9.832C151.186 10.088 150.93 10.4613 150.748 10.952C150.578 11.4427 150.492 12.04 150.492 12.744C150.492 13.8 150.684 14.6107 151.068 15.176C151.463 15.7307 152.034 16.008 152.78 16.008C153.218 16.008 153.591 15.9547 153.9 15.848C154.21 15.7307 154.466 15.5547 154.668 15.32C154.871 15.0747 155.02 14.7653 155.116 14.392C155.212 14.0187 155.26 13.576 155.26 13.064V12.728C155.26 11.9493 155.17 11.32 154.988 10.84C154.818 10.36 154.546 10.008 154.172 9.784C153.799 9.56 153.324 9.448 152.748 9.448Z"
					fill="white"
				/>
				<path
					d="M1 5L6.5 9L12 5"
					stroke="white"
					stroke-linecap="round"
					stroke-linejoin="round"
				/>
				<path
					d="M1 14L6.5 18L12 14"
					stroke="white"
					stroke-linecap="round"
					stroke-linejoin="round"
				/>
			</svg>
		</span>
		<span class="skip" title="skip">
			<Button href="#hero" color="black" small>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16"
					fill="currentColor"
					class="bi bi-skip-forward-fill"
					viewBox="0 0 16 16"
				>
					<path
						d="M15.5 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V8.753l-6.267 3.636c-.54.313-1.233-.066-1.233-.697v-2.94l-6.267 3.636C.693 12.703 0 12.324 0 11.693V4.308c0-.63.693-1.01 1.233-.696L7.5 7.248v-2.94c0-.63.693-1.01 1.233-.696L15 7.248V4a.5.5 0 0 1 .5-.5z"
					/>
				</svg>
			</Button>
			<small><small>Skip presentation</small></small>
		</span>
	</div>
{/if}
<section id="parallax">
	<canvas id="bg-img" width={w} height={h} />
	<section class:visible={progress <= 0.1} out:fly={{ duration: 1000, y: 21 }}>
		<div class="f-1">
			<img src="//static.pinnacle.us.org/2021/assets/icon.png" alt="" />
			<h1>Welcome to your arena.</h1>
		</div>
	</section>
	<section
		class:visible={progress >= 0.13 && progress <= 0.24}
		transition:fly={{ duration: 1000, y: 20 }}
	>
		<div>
			<h1>The most competitive<br />collegiate hackathon.</h1>
		</div>
	</section>
	<section
		class:visible={progress >= 0.27 && progress <= 0.34}
		transition:fly={{ duration: 1000, y: 22 }}
	>
		<div>
			<h1>Companies are watching.</h1>
		</div>
	</section>
	<section
		class:visible={progress >= 0.37 && progress <= 0.7}
		transition:fly={{ duration: 1000, y: 19 }}
	>
		<div class="right desktop-overlay">
			<h2 class:highlight={progress > 0.36 && progress <= 0.42}>Cash Prizes</h2>
			<h2 class:highlight={progress > 0.42 && progress <= 0.49}>Glory</h2>
			<h2 class:highlight={progress > 0.49 && progress <= 0.56}>Internships</h2>
			<h2 class:highlight={progress > 0.56 && progress <= 0.63}>Full-time</h2>
			<h2 class:highlight={progress > 0.63 && progress <= 0.69}>Co-op</h2>
		</div>
		<div class="right mobile-overlay">
			<h2 class:visible={progress > 0.36}>Cash Prizes</h2>
			<h2 class:visible={progress > 0.42}>Glory</h2>
			<h2 class:visible={progress > 0.49}>Internships</h2>
			<h2 class:visible={progress > 0.56}>Full-time</h2>
			<h2 class:visible={progress > 0.63}>Co-op</h2>
		</div>
	</section>
	<section class:visible={progress >= 0.75} transition:fade>
		<div class="row">
			<div>
				<h2>{bigNumber1}</h2>
				<p>Hours of intense<br />competition</p>
			</div>
			<div>
				<h2>{bigNumber2}</h2>
				<p>Top collegiate hackathons<br />participating</p>
			</div>
			<div>
				<h2>{bigNumber3}</h2>
				<p>of the world's brightest<br />student hackers</p>
			</div>
		</div>
	</section>
</section>

<style lang="scss">
	#fg-img {
		background-color: $bg;
		position: fixed;
		top: 0;
		right: -100vw;
		bottom: 0;
		left: -100vw;
		z-index: 0;
		min-width: 100vw;
		min-height: 200vh;
		opacity: 0;
	}

	.mobile-overlay {
		@media (min-width: 768px) {
			display: none;
		}

		.skip {
			position: fixed;
			bottom: 1rem;
			left: 0;
			right: 0;
			text-align: center;
			margin: 0 auto;
			width: max-content;
			z-index: 100;
		}

		.scroll-prompt {
			animation: fade-in 1s 1.5s forwards;
			opacity: 0;

			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0 auto;
			position: fixed;
			top: 1.5rem;
			left: 0;
			right: 0;
			z-index: 5;

			svg {
				height: 16px;
			}
		}
	}

	.desktop-overlay {
		position: fixed;
		display: none;
		z-index: 100;

		@media (min-width: 768px) {
			display: unset;
		}

		.skip {
			position: fixed;
			top: 2rem;
			right: 2rem;
		}
	}

	#parallax {
		min-height: 5000px;
		position: relative;
		z-index: -1;

		#bg-img {
			background-size: contain;
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			min-width: 100vw;
			min-height: 100vh;
		}

		section {
			visibility: hidden;
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			min-width: 100vw;
			min-height: 100vh;
			display: grid;
			place-items: center;
			transition-duration: 0.5s;
			transform: translateY(-10px);
			opacity: 0;

			&.visible {
				visibility: visible;
				transform: translateY(0);
				opacity: 1;
			}

			div {
				display: flex;
				flex-direction: column;
				align-items: center;
				text-align: center;

				&.right {
					align-items: flex-start;
					justify-self: flex-end;
					margin-right: 15vw;
					text-align: left;
				}

				&.mobile-overlay {
					h2 {
						opacity: 0;
						visibility: hidden;
						transition-duration: 0.5s;
					}
					h2.visible {
						opacity: 1;
						visibility: visible;
					}
				}

				&.row {
					flex-direction: column;
					justify-content: space-around;
					row-gap: 2rem;
					max-width: 1480px;
					width: 100%;

					@media (min-width: 768px) {
						flex-direction: row;
						text-align: center;

						h2 {
							line-height: unset;
							font-size: 4rem;
						}
					}

					> div {
						flex: 1 1;
					}

					h2 {
						line-height: 1;
						font-size: 2.5rem;
						margin: 0;
					}
				}
			}

			img {
				height: 5rem;
				width: 5rem;

				@media (min-width: 768px) {
					height: 7rem;
					width: 7rem;
				}
			}

			h1,
			h2 {
				font-family: "atrament-web" !important;
				font-size: 2rem;
				font-weight: 400;
				letter-spacing: 6px;
				margin: 2rem 0;
				max-width: 300px;
				text-transform: uppercase;

				@media (min-width: 768px) {
					font-size: 3.5rem;
					max-width: unset;
				}
			}

			h2 {
				-webkit-text-stroke: transparent 2px;
				margin: 0.25rem 0;
				position: relative;
				transition-duration: 0.3s;

				&.highlight {
					-webkit-text-stroke: white 2px;
					color: black;
				}
			}
		}

		.f-1 {
			animation: fade-in 1s 1s forwards;
			opacity: 0;
		}

		@keyframes fade-in {
			0% {
				opacity: 0;
				transform: translateY(-10px);
			}
			100% {
				opacity: 1;
				transform: translateY(0);
			}
		}
	}
</style>
